@model QS.DTO.Module.MessageDto
@{
    ViewBag.Title = "新建通知";
}

@section Styles{
    <link rel="stylesheet" type="text/css" href="~/Areas/assets/plugins/bootstrap-select/bootstrap-select.min.css" />
    <link rel="stylesheet" type="text/css" href="~/Areas/assets/plugins/select2/select2.css" />
    <link rel="stylesheet" type="text/css" href="~/Areas/assets/plugins/select2/select2-metronic.css" />
    <link rel="stylesheet" type="text/css" href="~/Areas/assets/plugins/jquery-multi-select/css/multi-select.css" />
}

<!-- 头部标题和面包屑导航-->
<div class="row">
    <div class="col-md-12">
        <h3 class="page-title">
            新建通知
        </h3>
        <ul class="page-breadcrumb breadcrumb">
            <li>
                <i class="fa fa-home"></i>
                <a href="@Url.Action("Index","OAuth", new{ Area = "Admin" })">
                    主页
                </a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li>
                <i class="fa fa-list"></i>
                <a href="@Url.Action("Index","InforManage", new{ Area = "Admin" })">
                    通知列表
                </a>
            </li>
        </ul>
    </div>
</div>
<!-- 结束头部标题和面包屑导航-->

<div class="row">
    <div class="col-md-12">
        <div class="portlet box">
            <div class="portlet-title">
                <div class="tools">
                    <a href="javascript:;" class="collapse">
                    </a>
                </div>
            </div>
            <div class="portlet-body form">
                <!-- BEGIN FORM-->
                <form action="@Url.Action("Create")" id="activitycreate-form" name="activitycreate-form" method="post" enctype="multipart/form-data">
                    <div class="form-body">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">通知标题</label>
                                    @Html.TextBoxFor(model => Model.Title, new { @class = "form-control" })
                                    <span class="error-block">
                                        @Html.ValidationMessageFor(model => Model.Title)
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">通知内容</label>
                                    <span class="error-block">
                                        @Html.ValidationMessageFor(model => Model.Context)
                                    </span>
                                    @Html.TextAreaFor(model => model.Context, new { @class = "form-control", rows = 15 })
                                </div>
                            </div>
                            <!--/span-->
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="control-label">附加内容</label>
                                    @Html.TextBoxFor(model => Model.Appendix, new { @class = "form-control" })
                                    <span class="error-block">
                                        @Html.ValidationMessageFor(model => Model.Appendix)
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label class="control-label">消息类型</label>
                                    @Html.TextBoxFor(model => Model.Type, new { @class = "form-control" })
                                    <span class="error-block">
                                        @Html.ValidationMessageFor(model => Model.Type)
                                    </span>
                                </div>
                            </div>
                            <!--/span-->
                        </div>
                    </div>
                    <div class="form-actions right">
                        <button type="submit" class="btn blue"><i class="fa fa-check"></i> 确认</button>
                    </div>
                </form>
                <!-- END FORM-->
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script type="text/javascript" src="~/Areas/assets/plugins/bootstrap-select/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="~/Areas/assets/plugins/select2/select2.min.js"></script>
    <script type="text/javascript" src="~/Areas/assets/plugins/jquery-multi-select/js/jquery.multi-select.js"></script>
    
    <script src="~/Areas/assets/plugins/kindeditor-4.1.10/kindeditor-min.js"></script>
    <script src="~/Areas/assets/plugins/kindeditor-4.1.10/lang/zh_CN.js"></script>
    <script src="~/Areas/assets/plugins/kindeditor-4.1.10/plugins/code/prettify.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function () {
            var $header = $('ul.page-sidebar-menu #about-header');
            $header.addClass('active');
            var $a = $header.children(':first');
            $a.children('span.arrow').addClass('open').after("<span class=\"selected\"></span>");
            $('ul.page-sidebar-menu #information-header').children(':first').children('span.arrow').addClass('open');
            $('ul.page-sidebar-menu #information-create-link').addClass('active').closest('ul').attr('style', 'display:block');
            App.init();
        });
        var options = {
            allowPreviewEmoticons: false,
            allowImageUpload: false,
            items: [
                'fontname', 'fontsize', '|', 'forecolor', 'hilitecolor', 'bold', 'italic', 'underline',
                'removeformat', '|', 'justifyleft', 'justifycenter', 'justifyright', 'insertorderedlist',
                'insertunorderedlist', '|', 'emoticons', 'image', 'link'
            ]
        };

        KindEditor.ready(function (K) {
            window.editor = K.create('#Context', options);
        });
    </script>

}
